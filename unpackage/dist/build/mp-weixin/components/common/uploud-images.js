(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/uploud-images"],{"263d":function(e,t,n){"use strict";var r=n("b3a6"),a=n.n(r);a.a},"2d00":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("4795"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return l(e)||s(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done);r=!0)if(n.push(u.value),t&&n.length===t)break}catch(i){a=!0,o=i}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function l(e){if(Array.isArray(e))return e}function f(e,t,n,r,a,o,u){try{var c=e[o](u),i=c.value}catch(s){return void n(s)}c.done?t(i):Promise.resolve(i).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){f(o,r,a,u,c,"next",e)}function c(e){f(o,r,a,u,c,"throw",e)}u(void 0)}))}}var p=[["camera"],["album"],["camera","album"]],m=[["compressed"],["original"],["compressed","original"]],h={props:{imageList:Array},data:function(){return{sourceTypeIndex:2,sourceType:["拍照","相册","拍照或相册"],sizeTypeIndex:2,sizeType:["压缩","原图","压缩或原图"],countIndex:8,count:[1,2,3,4,5,6,7,8,9]}},methods:{chooseImage:function(){var t=this;return d(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(2===t.sourceTypeIndex){n.next=6;break}return n.next=3,t.checkPermission();case 3:if(a=n.sent,1===a){n.next=6;break}return n.abrupt("return");case 6:if(9!==t.imageList.length){n.next=8;break}return n.abrupt("return");case 8:e.chooseImage({sourceType:p[t.sourceTypeIndex],sizeType:m[t.sizeTypeIndex],count:t.imageList.length+t.count[t.countIndex]>9?9-t.imageList.length:t.count[t.countIndex],success:function(e){t.Upload(e.tempFilePaths[0])},fail:function(n){e.getSetting({success:function(n){var r=!1;switch(t.sourceTypeIndex){case 0:r=n.authSetting["scope.camera"];break;case 1:r=n.authSetting["scope.album"];break;case 2:r=n.authSetting["scope.album"]&&n.authSetting["scope.camera"];break;default:break}r||e.showModal({title:"授权失败",content:"Hello uni-app需要从您的相机或相册获取图片，请在设置界面打开相关权限",success:function(t){t.confirm&&e.openSetting()}})}})}});case 9:case"end":return n.stop()}}),n)})))()},Upload:function(t){var n=this;return d(r.default.mark((function a(){var u,c,i,s,l,f;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$http.upload("/image/uploadmore",{name:"imglist[]",filePath:t,token:!0,checkToken:!0});case 3:if(u=r.sent,c=o(u,2),i=c[0],s=c[1],l=JSON.parse(s.data),!i&&!l.errorCode){r.next=11;break}return e.showToast({title:l.msg?l.msg:"上传失败",icon:"none"}),r.abrupt("return",!1);case 11:f=l.data.list,n.$emit("upload",f[0]),r.next=18;break;case 15:return r.prev=15,r.t0=r["catch"](0),r.abrupt("return");case 18:case"end":return r.stop()}}),a,null,[[0,15]])})))()},delImg:function(t){var n=this;e.showModal({content:"是否删除第".concat(t+1,"张图片？"),success:function(e){res.confirm&&n.$emit("del",t)}})},previewImage:function(t){var n=t.target.dataset.src;e.previewImage({current:n,urls:this.imageList})}}};t.default=h}).call(this,n("543d")["default"])},"6bc5":function(e,t,n){"use strict";n.r(t);var r=n("2d00"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},"9aa4":function(e,t,n){"use strict";n.r(t);var r=n("dd2a"),a=n("6bc5");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("263d");var u,c=n("f0c5"),i=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);t["default"]=i.exports},b3a6:function(e,t,n){},dd2a:function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}))}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/uploud-images-create-component',
    {
        'components/common/uploud-images-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("9aa4"))
        })
    },
    [['components/common/uploud-images-create-component']]
]);
