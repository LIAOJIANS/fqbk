(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-space/user-space"],{"070f":function(e,t,n){"use strict";n.r(t);var r=n("18a4"),a=n("b720");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("b206");var u,o=n("f0c5"),s=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);t["default"]=s.exports},"18a4":function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}))},a5e1:function(e,t,n){"use strict";(function(e){n("b02b"),n("921b");r(n("66fd"));var t=r(n("070f"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},b206:function(e,t,n){"use strict";var r=n("b3eb"),a=n.n(r);a.a},b3eb:function(e,t,n){},b720:function(e,t,n){"use strict";n.r(t);var r=n("da03"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},da03:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("4795")),a=i(n("9337"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return d(e)||f(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done);r=!0)if(n.push(u.value),t&&n.length===t)break}catch(s){a=!0,i=s}finally{try{r||null==o["return"]||o["return"]()}finally{if(a)throw i}}return n}}function d(e){if(Array.isArray(e))return e}function l(e,t,n,r,a,i,u){try{var o=e[i](u),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){l(i,r,a,u,o,"next",e)}function o(e){l(i,r,a,u,o,"throw",e)}u(void 0)}))}}var p=function(){n.e("components/user-space/user-space-head").then(function(){return resolve(n("1529"))}.bind(null,n)).catch(n.oe)},b=function(){n.e("components/index/swiper-tab-head").then(function(){return resolve(n("90ab"))}.bind(null,n)).catch(n.oe)},m=function(){n.e("components/home/home-data").then(function(){return resolve(n("572c"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/user-space/user-space-userinfo").then(function(){return resolve(n("fdd0"))}.bind(null,n)).catch(n.oe)},v=function(){n.e("components/common/common-list").then(function(){return resolve(n("c83c"))}.bind(null,n)).catch(n.oe)},x=function(){n.e("components/user-space/user-space-popup").then(function(){return resolve(n("5ddf"))}.bind(null,n)).catch(n.oe)},k=function(){n.e("components/common/load-more").then(function(){return resolve(n("d23c"))}.bind(null,n)).catch(n.oe)},w=function(){n.e("components/common/no-thing").then(function(){return resolve(n("f074"))}.bind(null,n)).catch(n.oe)},_={data:function(){return{tabIndex:0,showMeuo:!1,userinfo:{userpic:"",username:"",isme:!1,sex:0,age:0,bgimg:"1",isguanzhu:!1,job:"",path:"",isblack:!1,qg:"",birthday:"",regtime:"",id:0},homedata:[{name:"获赞",num:0},{name:"关注",num:0},{name:"粉丝",num:0}],tabBars:[{name:"主页",id:"dangqian"},{name:"糗事",id:"zuixin"},{name:"动态",id:"dongtai"}],qiushi:{},tablist:[{},{context:"下拉加载更多",list:[],page:1,firstload:!1},{context:"下拉加载更多",list:[],page:1,firstload:!1}]}},components:{userSpaceHead:p,homeData:m,swiperTabHead:b,userspaceUserinfo:g,userSpacePopup:x,newList:v,loadMore:k,noThing:w},onReachBottom:function(){this.loadingDate()},onNavigationBarButtonTap:function(e){console.log(e.index),0===e.index&&(this.showMeuo=!0)},onLoad:function(e){this._loadDate(e.userid)},methods:{_loadDate:function(e){this._getUserInfo(e),this.getCounts(e)},lahei:function(){var t=this;return h(r.default.mark((function n(){var a,i,o,s,c,f;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.showLoading({title:"Loading....",mask:!1}),a=t.userinfo.isblack?"/removeblack":"/addblack",i=t.userinfo.isblack?"移除黑名单":"加入黑名单",n.next=5,t.$http.post(a,{id:t.userinfo.id},{token:!0,checkToken:!0,checkAuth:!0});case 5:if(o=n.sent,s=u(o,2),c=s[0],f=s[1],t.$http.errorCheck(c,f)){n.next=12;break}return e.hideLoading(),n.abrupt("return",t.hide());case 12:e.hideLoading(),e.showToast({title:i+"成功"}),t.userinfo.isblack=!t.userinfo.isblack,t.hide();case 16:case"end":return n.stop()}}),n)})))()},chat:function(){var e={userid:this.userinfo.id,userpic:this.userinfo.userpic,username:this.userinfo.username};this.user.navigate({url:"/pages/user-chat/user-chat?userinfo="+JSON.stringify(e)}),this.hide()},_getUserInfo:function(e){var t=this;return h(r.default.mark((function n(){var i,o,s,c,f,d,l,h,p,b,m;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=["不限","男","女"],o=["秘密","未婚","已婚"],e!==t.user.userinfo.id){n.next=9;break}c=t.user.userinfo,s=!0,f=!1,d=!1,n.next=21;break;case 9:return n.next=11,t.$http.post("/getuserinfo",{user_id:e},{token:!0});case 11:if(l=n.sent,h=u(l,2),p=h[0],b=h[1],t.$http.errorCheck(p,b)){n.next=17;break}return n.abrupt("return");case 17:c=b.data.data,s=!1,f=!!b.data.data.fens.length,d=!!b.data.data.blacklist.length;case 21:m=c.create_time?a.default.gettime.dateFormat(new Date(1e3*c.create_time),"{Y}-{MM}-{DD}"):"未知",t.userinfo={isme:s,bgimg:"1",userpic:c.userpic,username:c.username,sex:i[c.userinfo.sex]||"不限",age:c.userinfo.age,isguanzhu:f,isblack:d,regtime:m,id:c.id,birthday:c.userinfo.birthday||"未知",job:c.userinfo.job||"未知",path:c.userinfo.path||"未知",qg:o[c.userinfo.qg]||"秘密"};case 23:case"end":return n.stop()}}),n)})))()},tabtap:function(e){this.tabIndex=e,this._getData()},_getData:function(){var e=this;return h(r.default.mark((function t(){var n,a,i,o,s,c,f,d,l,h;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.tablist[e.tabIndex].page){t.next=2;break}return t.abrupt("return");case 2:return n=e.tablist[e.tabIndex].page,a=e.userinfo.isme?"/user/post/".concat(n):"/user/".concat(e.userinfo.id,"/post/").concat(n),i=e.tabIndex,t.next=7,e.$http.get(a,{},{token:!0});case 7:if(o=t.sent,s=u(o,2),c=s[0],f=s[1],e.$http.errorCheck(c,f)){t.next=14;break}return e.tablist[i].firstload=!0,t.abrupt("return",e.tablist[i].context="上拉加载更多");case 14:for(d=[],l=f.data.data.list,h=0;h<l.length;h++)d.push(e._fomat(l[h]));return e.tablist[i].list=n>1?e.tablist[i].list.concat(d):d,e.tablist[i].firstload=!0,e.tablist[i].context=l.length<10?"没有更多数据了":"上拉加载更多",t.abrupt("return");case 21:case"end":return t.stop()}}),t)})))()},_fomat:function(e){var t={userid:e.user.id,userpic:e.user.userpic,username:e.user.username,isguanzhu:!!e.user.fens.length,id:e.id,title:e.title,type:"img",titlepic:e.titlepic,video:!1,path:e.path,share:!!e.share,infonum:{index:e.support.length>0?e.support[0].type+1:0,dingnum:e.ding_count,cainum:e.cai_count},goodnum:e.ding_count,commentnum:e.comment_count,sharenum:e.sharenum,sex:e.user.userinfo.sex,age:e.user.userinfo.age};return e.user_id===this.user.userinfo.id&&(t.isguanzhu=!0),t},hide:function(){if(this.userinfo.id===this.user.userinfo.id)return this.user.navigate({url:"/pages/user-set-userinfo/user-set-userinfo"});this.showMeuo=!1},loadingDate:function(){"上拉加载更多"==this.tablist[this.tabIndex].context&&(this.tablist[this.tabIndex].context="加载中...",this.tablist[this.tabIndex].page++,this._getData())},getCounts:function(e){var t=this;return h(r.default.mark((function n(){var a,i,o,s,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e!==t.user.userinfo.id){n.next=4;break}a=t.user.counts,n.next=14;break;case 4:return n.next=6,t.$http.get("/user/getcounts/"+e);case 6:if(i=n.sent,o=u(i,2),s=o[0],c=o[1],console.log(c.data.data),t.$http.errorCheck(s,c)){n.next=13;break}return n.abrupt("return");case 13:a=c.data.data;case 14:a&&(t.homedata[0].num=a.post_count,t.homedata[1].num=a.withfollow_count,t.homedata[2].num=a.withfen_count);case 15:case"end":return n.stop()}}),n)})))()}}};t.default=_}).call(this,n("543d")["default"])}},[["a5e1","common/runtime","common/vendor"]]]);