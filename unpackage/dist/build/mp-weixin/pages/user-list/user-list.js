(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-list/user-list"],{2839:function(t,n,e){"use strict";e.r(n);var a=e("abc8"),r=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=r.a},3516:function(t,n,e){"use strict";e.r(n);var a=e("80c3"),r=e("2839");for(var i in r)"default"!==i&&function(t){e.d(n,t,(function(){return r[t]}))}(i);e("5a79");var o,u=e("f0c5"),s=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,"2a8e656d",null,!1,a["a"],o);n["default"]=s.exports},"5a79":function(t,n,e){"use strict";var a=e("5fa7"),r=e.n(a);r.a},"5fa7":function(t,n,e){},"80c3":function(t,n,e){"use strict";var a={"uni-nav-bar":function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"d353"))}},r=function(){var t=this,n=t.$createElement;t._self._c},i=[];e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}))},abc8:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("4795"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){return f(t)||c(t,n)||u(t,n)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"===typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function c(t,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],a=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(a=(o=u.next()).done);a=!0)if(e.push(o.value),n&&e.length===n)break}catch(s){r=!0,i=s}finally{try{a||null==u["return"]||u["return"]()}finally{if(r)throw i}}return e}}function f(t){if(Array.isArray(t))return t}function l(t,n,e,a,r,i,o){try{var u=t[i](o),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(a,r)}function d(t){return function(){var n=this,e=arguments;return new Promise((function(a,r){var i=t.apply(n,e);function o(t){l(i,a,r,o,u,"next",t)}function u(t){l(i,a,r,o,u,"throw",t)}o(void 0)}))}}var h=function(){e.e("components/index/swiper-tab-head").then(function(){return resolve(e("90ab"))}.bind(null,e)).catch(e.oe)},b=function(){e.e("components/user-list/user-list").then(function(){return resolve(e("bdf1"))}.bind(null,e)).catch(e.oe)},v=function(){e.e("components/common/load-more").then(function(){return resolve(e("d23c"))}.bind(null,e)).catch(e.oe)},p=function(){e.e("components/common/no-thing").then(function(){return resolve(e("f074"))}.bind(null,e)).catch(e.oe)},m=function(){e.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("d353"))}.bind(null,e)).catch(e.oe)},g={data:function(){return{tabIndex:0,hidden:null,tabBars:[{name:"互关",id:"huguan",num:10},{name:"关注",id:"guanzhu",num:10},{name:"粉丝",id:"fensi",num:10}],dataLists:[{firstload:!1,page:1,context:"上拉加载更多",list:[]},{firstload:!1,page:1,context:"上拉加载更多",list:[]},{firstload:!1,page:1,context:"上拉加载更多",list:[]}]}},onNavigationBarButtonTap:function(n){0===n.index&&t.navigateBack({delta:1})},onNavigationBarSearchInputClicked:function(){t.navigateTo({url:"../search/search?searchType=user"})},onReachBottom:function(){this.loadingDate()},onShow:function(){this.__init()},methods:{clickRight:function(){t.navigateBack({delta:1})},openSearch:function(){t.navigateTo({url:"../search/search?searchType=user"})},__init:function(){this.tabBars[0].num=this.user.counts.friend_count>100?"99+":this.user.counts.friend_count,this.tabBars[1].num=this.user.counts.withfollow_count>100?"99+":this.user.counts.withfollow_count,this.tabBars[2].num=this.user.counts.withfen_count>100?"99+":this.user.counts.withfen_count,this.getData()},getData:function(){var t=this;return d(a.default.mark((function n(){var e,r,o,u,s,c,f;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e=t.tabIndex,n.next=4,t.$http.get(t.getUrl(),{},{token:!0,checkToken:!0});case 4:if(r=n.sent,o=i(r,2),u=o[0],s=o[1],t.$http.errorCheck(u,s)){n.next=11;break}return t.dataLists[e].loadtext="上拉加载更多",n.abrupt("return");case 11:c=[],f=s.data.data.list,f.forEach((function(n){c.push(t.__format(n,e))})),t.dataLists[e].list=t.dataLists[e].page>1?t.dataLists[e].list.concat(c):c,t.dataLists[e].firstload=!0,t.dataLists[e].loadtext=f.length<10?"没有更多数据了":"上拉加载更多",n.next=22;break;case 19:return n.prev=19,n.t0=n["catch"](0),n.abrupt("return");case 22:case"end":return n.stop()}}),n,null,[[0,19]])})))()},__format:function(t,n){return{id:t.userinfo.user_id,userpic:t.userpic,username:t.username,age:t.userinfo.age,sex:t.userinfo.sex,isguanzhu:2!==n}},getUrl:function(){var t=["/friends/","/follows/","/fens/"];return t[this.tabIndex]+this.dataLists[this.tabIndex].page},tabtap:function(t){this.tabIndex=t,this.hidden=!1,this.dataLists[this.tabIndex].firstload||this.getData()},loadingDate:function(){"上拉加载更多"===this.dataLists[this.tabIndex].loadtext&&(this.dataLists[this.tabIndex].context="正在加载中.......",this.dataLists[this.tabIndex].page++,this.getData())}},watch:{tabIndex:function(t){1===t&&(this.hidden=!0)}},components:{swiperTabHead:h,userList:b,loadMore:v,noThing:p,uniNavBar:m}};n.default=g}).call(this,e("543d")["default"])},b49f:function(t,n,e){"use strict";(function(t){e("b02b"),e("921b");a(e("66fd"));var n=a(e("3516"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])}},[["b49f","common/runtime","common/vendor"]]]);