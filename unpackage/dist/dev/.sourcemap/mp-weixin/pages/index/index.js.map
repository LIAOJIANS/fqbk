{"version":3,"sources":["webpack:///C:/Users/dark mirror/Desktop/工作区/防求百科/main.js","webpack:///C:/Users/dark mirror/Desktop/工作区/防求百科/pages/index/index.vue?99d8","webpack:///C:/Users/dark mirror/Desktop/工作区/防求百科/pages/index/index.vue?09d1","webpack:///C:/Users/dark mirror/Desktop/工作区/防求百科/pages/index/index.vue?ba00","webpack:///C:/Users/dark mirror/Desktop/工作区/防求百科/pages/index/index.vue?a83b","webpack:///C:/Users/dark mirror/Desktop/工作区/防求百科/pages/index/index.vue"],"names":["createPage","Page","data","getHeight","tabIndex","tabBars","newslist","created","height","uni","getSystemInfoSync","windowHeight","upx2px","_getLoadData","$on","updateData","computed","onNavigationBarSearchInputClicked","navigateTo","url","onNavigationBarButtonTap","e","index","methods","resdata","type","guanzhu","support","updateComment","lists","forEach","item","userid","isguanzhu","obj","find","id","post_id","commentnum","value","oldindex","infonum","do","dingnum","cainum","$http","get","err","res","arr","list","push","name","classname","context","page","first","length","_getIndexData","token","error","errorCheck","currentIndex","loadtext","_fomat","concat","user","userpic","username","fens","title","video","path","share","titlepic","ding_count","cai_count","comment_count","sharenum","tabtap","loadingDate","tabChange","detail","current","components","indexList","swiperTabHead","loadMore","noThing"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=26630724&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26630724\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/dark mirror/Desktop/工作区/防求百科/pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=26630724&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport indexList from '../../components/index/index-list.vue'\r\nimport swiperTabHead from '../../components/index/swiper-tab-head.vue'\r\nimport loadMore from '../../components/common/load-more.vue'\r\nimport noThing from '../../components/common/no-thing.vue'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgetHeight: `height: ${ 500 }px;`,\r\n\t\t\ttabIndex: 0, // 默认显示第一个\r\n\t\t\ttabBars: [],\r\n\t\t\tnewslist: []\r\n\t\t}\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tlet height = uni.getSystemInfoSync().windowHeight - uni.upx2px(100);\r\n\t\tthis.getHeight = `height: ${ height }px;`;\r\n\t\tthis._getLoadData()\r\n\t\t// 开启监听\r\n\t\tuni.$on('updateData',this.updateData);\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t// getHeight() {\r\n\t\t//\r\n\r\n\r\n\r\n\t\t// }\r\n\t},\r\n\r\n\tonNavigationBarSearchInputClicked() {\r\n\t\tuni.navigateTo({ url: '../search/search' })\r\n\t},\r\n\r\n\tonNavigationBarButtonTap(e) { // 监听头部按钮点击事件\r\n\t\tif(e.index === 1) uni.navigateTo({ url: '../add-input/add-input' })\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tupdateData(resdata) {\r\n\t\t\tswitch (resdata.type){\r\n\t\t\t\tcase \"guanzhu\":\r\n\t\t\t\t\tthis.guanzhu(resdata)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"support\":\r\n\t\t\t\t\tthis.support(resdata)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'updateComment':\r\n\t\t\t\t\tthis.updateComment(resdata)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tguanzhu(data) {\r\n\t\t\tthis.newslist[this.tabIndex].lists.forEach((item,index)=>{\r\n\t\t\t\tif (item.userid === data.userid) {\r\n\t\t\t\t\titem.isguanzhu = data.data;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tupdateComment(data) {\r\n\t\t\tlet obj = this.newslist[this.tabIndex].lists.find((item,index)=>{\r\n\t\t\t\treturn item.id === data.post_id\r\n\t\t\t})\r\n\t\t\tif(!obj) return \r\n\t\t\tobj.commentnum++\r\n\t\t},\r\n\r\n\t\tsupport(data) {\r\n\t\t\t// 拿到当前对象\r\n\t\t\tlet obj = this.newslist[this.tabIndex].lists.find(value =>{\r\n\t\t\t\treturn value.id === data.post_id;\r\n\t\t\t});\r\n\t\t\tif (!obj) return;\r\n\t\t\tlet oldindex = obj.infonum.index; // 操作前的状态\r\n\t\t\tobj.infonum.index = (data.do == 'ding') ? 1 : 2; // 操作后的状态\r\n\t\t\tif (oldindex !== 0) { //之前操作过\r\n\t\t\t\toldindex == 1 ? obj.infonum.dingnum-- : obj.infonum.cainum--;\r\n\t\t\t}\r\n\t\t\tif (obj.infonum.index !== 0) {  // 当前操作\r\n\t\t\t\tobj.infonum.index == 1 \r\n\t\t\t\t\t? obj.infonum.dingnum++ : obj.infonum.cainum++;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync _getLoadData() { // 请求数据\r\n\t\t\tconst [err, res] = await this.$http.get('/postclass')\r\n\t\t\tlet arr = []\r\n\t\t\tres.data.data.list.forEach(item => {\r\n\t\t\t\tthis.tabBars.push({\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\tname: item.classname\r\n\t\t\t\t})\r\n\t\t\t\tarr.push({ // 分类对应的对象数\r\n\t\t\t\t\tcontext: '下拉加载更多',\r\n\t\t\t\t\tlists: [],\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tfirst: false\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tthis.newslist = arr\r\n\t\t\tthis.tabBars.length > 0 && this._getIndexData()\r\n\t\t},\r\n\r\n\t\tasync _getIndexData() {\r\n\t\t\tconst [err, res] = await this.$http.get(`/postclass/${ this.tabBars[this.tabIndex].id }/post/${ this.newslist[this.tabIndex].page }`, {}, { token: true })\r\n\t\t\tlet error = this.$http.errorCheck(err,res,()=>{\r\n\t\t\t\tthis.newslist[currentIndex].loadtext=\"上拉加载更多\";\r\n\t\t\t},()=>{\r\n\t\t\t\tthis.newslist[currentIndex].loadtext=\"上拉加载更多\";\r\n\t\t\t});\r\n\t\t\tif (!error) return;\r\n\t\t\tlet arr = []\r\n\t\t\tres.data.data.list.forEach(item => {\r\n\t\t\t\tarr.push(this._fomat(item))\r\n\t\t\t})\r\n\t\t\tthis.newslist[this.tabIndex].lists = this.newslist[this.tabIndex].page > 1 ? this.newslist[this.tabIndex].lists.concat(arr) : arr\r\n\t\t\tthis.newslist[this.tabIndex].first = true\r\n\t\t\tif(res.data.data.list.length < 10) {\r\n\t\t\t\tthis.newslist[this.tabIndex].context = '没有更多数据了'\r\n\t\t\t} else {\r\n\t\t\t\tthis.newslist[this.tabIndex].context = '下拉加载更多'\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t},\r\n\r\n\t\t_fomat(item) {\r\n\t\t\treturn {\r\n\t\t\t\tuserid: item.user.id,\r\n\t\t\t\tuserpic: item.user.userpic,\r\n\t\t\t\tusername: item.user.username,\r\n\t\t\t\tisguanzhu: !!item.user.fens.length,\r\n\t\t\t\tid: item.id,\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: 'img',\r\n\t\t\t\tvideo: false,\r\n\t\t\t\tpath: item.path,\r\n\t\t\t\tshare: !!item.share,\r\n\t\t\t\ttitlepic: item.titlepic,\r\n\t\t\t\tinfonum: {\r\n\t\t\t\t\tindex: (item.support.length > 0) ? (item.support[0].type + 1) : 0,\r\n\t\t\t\t\tdingnum: item.ding_count,\r\n\t\t\t\t\tcainum: item.cai_count\r\n\t\t\t\t},\r\n\t\t\t\tcommentnum: item.comment_count,\r\n\t\t\t\tsharenum: item.sharenum\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttabtap(index) {\r\n\t\t\tthis.tabIndex = index\r\n\t\t},\r\n\r\n\t\tloadingDate(index) { // 下拉加载\r\n\t\t\tif(this.newslist[index].context !== '下拉加载更多') return\r\n\t\t\tthis.newslist[index].context=\"加载中...\";\r\n\t\t\tthis.newslist[this.tabIndex].page++\r\n\t\t\tthis._getIndexData()\r\n\t\t},\r\n\r\n\t\ttabChange(e) { // 改变显示索引\r\n\t\t\tthis.tabIndex = e.detail.current\r\n\t\t\tthis._getIndexData()\r\n\t\t}\r\n\t},\r\n\r\n\tcomponents: {\r\n\t\tindexList,\r\n\t\tswiperTabHead,\r\n\t\tloadMore,\r\n\t\tnoThing\r\n\t}\r\n\r\n}\r\n"],"sourceRoot":""}